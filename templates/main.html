{% extends 'base.html' %}
{% block body %}
    <div class="aside-content">
    <div class="filter-block">
        <h3>Фильтры</h3>
        <form method="get">
        <input class="input-search" type="text" name="text_filter" placeholder="Поиск..."
               value="{{ search|default('', true) }}">
        <br>
        <b>Категории</b>
        <br>
        {% for item in categories if item != 'null_category' %}
            <label>{{ item }}
                <input type="checkbox" name="{{ item }}" value="{{ item }}"
                        {% if item in chosen_categories %}checked{% endif %}>
            </label>
            <br>
        {% endfor %}
            <label>Нет категории
            <input type="checkbox" name="null_category" value="null_category"
                {% if 'null_category' in chosen_categories %}checked{% endif %}>
            </label>
        <br>
        <b>Бренды</b>
        <br>
        {% for item in brands if item != 'null_brand' %}
            <label>
                {{ item }}
            <input type="checkbox" name="{{ item }}" value="{{ item }}"
                   {% if item in chosen_brands %}checked{% endif %}>
            </label>
            <br>
        {% endfor %}
        <label>Нет бренда
            <input type="checkbox" name="null_brand" value="null_brand"
             {% if "null_brand" in chosen_brands %}checked{% endif %}>
        </label>
        <div class="button-div">
            <button class="btn btn-primary">Применить</button>
        </div>
    </form>
    <div>
        <button style="width:111px;" id="reset-btn" class="btn btn-danger">Сбросить</button>
    </div>
    </div>
    </div>
    <div class="main-content">
        {% for product in goods %}
            <div class="product-card">
                <p class="product-card-title-paragraph"><a class="product-card-title" href="{{ url_for('product', id=product.id) }}">{{ product.title }}</a></p>
                <div class="product-card-photo"><img alt=""
                                                     src="../static/img/{% if product.image %}{{ product.image }}{% else %}placeholder.png{% endif %}">
                </div>
                <p class="product-card-description">{{ product.description[:30] }}...</p>
                <p class="product-price">{{ product.price }}</p>
            </div>
        {% endfor %}
    </div>
    <script>
        let resetButton = document.getElementById('reset-btn');
        resetButton.onclick = () => document.location.href = "{{ url_for('goods_list') }}";
    </script>
{% endblock %}